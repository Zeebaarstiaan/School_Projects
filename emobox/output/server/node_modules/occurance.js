var values       = new Array(),
    mostOccuring = 0,
    occurance    = 0,
    isValid        = false;

exports.reset = function () {
    values = new Array();
};

exports.setValues = function (valueArray) {
    isValid = false;
    values  = valueArray;
};

exports.addValue = function (value) {
    isValid = false;
    values.push(value);
};

exports.calculateMostOccuring = function () {
    var results = exports.getHashTable();
    for (var value in results) {
        if (results[value] > occurance) {
            mostOccuring = value;
            occurance    = results[value];
        }
    }
    isValid = true;
};

exports.getMostOccuring = function () {
    if (!isValid) {
        exports.calculateMostOccuring();
    }
    return mostOccuring;
};

exports.getOccurance = function () {
    if (!isValid) {
        exports.calculateMostOccuring();
    }
    return occurance;
};

exports.getHashTable = function () {
    var hashTable = new Array();
    for (var i = 0; i < values.length; i++) {
        var value = values[i];
        if (hashTable[value] !== undefined) {
            hashTable[value]++;
        } else {
            hashTable[value] = 1;
        }
    }
    return hashTable;
};